env:
  name: coinrun
  distribution_mode: hard
  num_envs: 8

levels:
  train_level_max: 2000        # i nuovi livelli di train saranno in [0, train_level_max)
  test_level_start: 100000      # test in [test_level_start, test_level_start + test_levels)
  test_levels: 500
  test_episodes_per_level: 1

train:
  total_updates: 2000
  num_steps: 256               # rollout length per update
  seed: 42
  device: cuda                  # "cuda" se disponibile
  save_every: 200
  out_dir: runs

ppo:
  learning_rate: 0.0005
  gamma: 0.999
  gae_lambda: 0.95
  clip_coef: 0.2
  ent_coef: 0.01
  vf_coef: 0.5
  max_grad_norm: 0.5
  update_epochs: 3
  minibatches: 4

plr:
  # Sampling strategy
  p_new: 0.5                   # probabilità di usare un nuovo livello vs replay
  
  # Buffer management
  buffer_size: 4000            # dimensione buffer (originale usa 4000-5000)
  score_ema_beta: 0.99         # smoothing factor per score (originale usa 0.99)
  
  # Prioritization parameters
  alpha: 1.0                   # rank prioritization strength (originale: 1.0, più alto = più uniforme)
  temperature: 0.1             # sampling temperature (originale: 0.1, più basso = più focus su hard levels)
  staleness_coef: 0.1          # staleness bonus coefficient (originale: 0.1)
  
  # Warmup
  warmup_updates: 100          # numero di updates per popolare il buffer prima del replay
  
  # Score calculation
  score_metric: "value_l1"     # "value_l1" (L1 value loss), "gae" (GAE magnitude), "max_gae"